/**
 * autoTab.min.js
 * @version: v2.0.3
 * @author: Dennis Hern√°ndez
 **/
 ;(function(e){"use strict";function d(e,t){for(var n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}return e}function v(e,t){return t.indexOf(e)===-1?false:true}function m(e){return!isNaN(parseFloat(e))&&isFinite(e)}function g(e,t){for(var n=0;n<e.length;n++){t(e[n])}}function y(e){var n=w("["+t+'="'+e+'"]');if(n!==null&&n.getAttribute("disabled")==="disabled"){return w("["+t+'="'+parseInt(e+1)+'"]')}return n}function b(e){return y(parseInt(e.getAttribute(t))+1)}function w(e){return document.querySelector(e)}function E(e){return v(e.nodeName.toLowerCase(),l)}function S(e){throw new Error(e===""?"An error has been raised":e)}function x(){var e=document.createElement("style"),t=document.createElement("style");t.id="inputStyle";t.type="text/css";t.innerHTML=["input[type=text], textarea {","transition: all 0.30s ease-in-out;","outline: none;","padding: 3px 0px 3px 3px;","margin: 5px 1px 3px 0px;","border: 1px solid #DDDDDD;","}"].join("");e.id="focusStyle";e.type="text/css";e.innerHTML=["input[type=text]:focus, textarea:focus {","box-shadow: 0 0 5px rgba(81, 203, 238, 1);","padding: 3px 0px 3px 3px;","margin: 5px 1px 3px 0px;","border: 1px solid rgba(81, 203, 238, 1);","}"].join("");h.appendChild(t);h.appendChild(e)}function T(e){if(!E(e)){S("The element has to be input or textarea or select")}else if(!m(e.getAttribute(t))){S("Error. The element has an invalid property. The data-tab is not valid. Element Id or Tag name = "+e.id===""?e.nodeName:e.id)}if(e.nodeName.toLowerCase()!=="select"&&e.nodeName.toLowerCase()!=="button"){if(!m(e.getAttribute(n))){S("Error. The element has an invalid property. The data-length is not valid. Element Id or Tag name = "+e.id===""?e.nodeName:e.id)}}}function N(e){if(typeof e.autoFocus!=="boolean"&&typeof e.autoFocus!=="undefined"){S("Error. You must pass a boolean in the autofocus parameter")}if(typeof e.addStyle!=="boolean"&&typeof e.addStyle!=="undefined"){S("Error. You must pass a boolean in the addStyle parameter")}if(typeof e.recursive!=="boolean"&&typeof e.recursive!=="undefined"){S("Error. You must pass a boolean in the recursive parameter")}if(typeof e.onComplete!=="function"&&typeof e.onComplete!=="undefined"){S("Error. You must pass a function in the onComplete parameter")}if(typeof e.onChanged!=="function"&&typeof e.onChanged!=="undefined"){S("Error. You must pass a boolean in the onChanged parameter")}}function C(e,t,n){if(e.addEventListener){e.addEventListener(t,n)}else if(e.attachEvent){e.attachEvent("on"+t,n)}else{e["on"+t]=n}}function k(){h.removeChild(document.getElementById("inputStyle"));h.removeChild(document.getElementById("focusStyle"))}function L(e,t){e.removeAttribute(t)}function A(t){var n=t,r,i;if(!n){e.autoTab.options.onComplete.call();if(e.autoTab.options.recursive){y(0).focus()}return}if(E(n)){r=i=n.value.length;if(n.setSelectionRange){n.setSelectionRange(r,i)}else if(n.createTextRange){var s=n.createTextRange();s.moveStart("character",r);s.moveEnd("character",i);s.select()}n.focus()}}function O(t){if(!a){return}if(!E(this)){return}if(!t){t=e.event}var r=this;r.maxLength=r.maxLength===-1?parseInt(r.getAttribute(n)):r.maxLength;e.autoTab.options.onChanged.call(r,t);r.value=P(r,r.value);if(v(t.keyCode,f)){if(r.value.length<r.maxLength){return false}}else{if(r.value.length<r.maxLength){return false}else if(r.value.length===r.maxLength){A(b(r))}}}function M(e){D(e,this)}function _(e){D(e,this)}function D(t,n){if(!a){return}if(!E(n)){return}if(!t){t=e.event}e.autoTab.options.onChanged.call(n,t);A(b(n))}function P(e,t){var n=null;switch(e.getAttribute(o)){case"text":n=new RegExp("[0-9]+","g");break;case"alpha":n=new RegExp("[^a-zA-Z]+","g");break;case"alphanumeric":n=new RegExp("[^0-9a-zA-Z]+","g");break;case"number":case"numeric":n=new RegExp("[^0-9]+","g");break;case"hex":case"hexadecimal":n=new RegExp("[^0-9A-Fa-f]+","g");break;case"custom":n=new RegExp(e.getAttribute(u),"g");break;default:break}if(n!==null){t=t.replace(n,"")}if(e.getAttribute(s)){t=t.replace(new RegExp("[ ]+","g"),"")}if(e.getAttribute(r)){t=t.toUpperCase()}if(e.getAttribute(i)){t=t.toLowerCase()}return t}function H(e){N(e);this.options=d({},this.options);d(this.options,e);this._init(false)}var t="data-tab",n="data-length",r="data-upper",i="data-lower",s="data-nospace",o="data-format",u="data-pattern",a=true,f=[9,16,37,38,39,40],l=["input","textarea","select","button"],c=document.querySelectorAll("["+t+"]"),h=document.getElementsByTagName("head")[0],p=function(){};H.prototype.options={autoFocus:false,addStyle:false,recursive:false,onComplete:p,onChanged:p};H.prototype._init=function(e){g(c,function(t){T(t);switch(t.nodeName.toLowerCase()){case"input":case"textarea":if(!e){C(t,"keyup",O)}t.setAttribute("maxlength",t.getAttribute(n));t.setAttribute("autocomplete","off");break;case"select":if(!e){C(t,"change",M)}break;case"button":if(!e){C(t,"click",_)}break}});if(this.options.autoFocus){y(0).focus()}if(this.options.addStyle){x()}};H.prototype.destroy=function(){g(c,function(e){L(e,"maxlength");L(e,"autocomplete")});if(this.options.addStyle){k()}a=false};H.prototype.restore=function(){a=true;this._init(true)};e.autoTab=H})(window);