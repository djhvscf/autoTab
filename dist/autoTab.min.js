/**
 * autoTab.min.js
 * @version: v2.0.8
 * @author: Dennis Hern√°ndez
 **/
 ;(function(e){"use strict";function d(e,t){for(var n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}return e}function v(e,t){return t.indexOf(e)===-1?false:true}function m(e){return!isNaN(parseFloat(e))&&isFinite(e)}function g(e,t){for(var n=0;n<e.length;n++){t(e[n])}}function y(e){var n=w("["+t+'="'+e+'"]');if(n!==null&&n.getAttribute("disabled")==="disabled"){return w("["+t+'="'+parseInt(e+1)+'"]')}return n}function b(e){return y(parseInt(e.getAttribute(t))+1)}function w(e){return document.querySelector(e)}function E(e){return document.querySelectorAll(e)}function S(e){return v(e.nodeName.toLowerCase(),l)}function x(e){throw new Error(e===""?"An error has been raised":e)}function T(e){if(!S(e)){x("The element has to be input or textarea or select")}else if(!m(e.getAttribute(t))){x("Error. The element has an invalid property. The data-tab is not valid. Element Id or Tag name = "+e.id===""?e.nodeName:e.id)}if(e.nodeName.toLowerCase()!=="select"&&e.nodeName.toLowerCase()!=="button"){if(!m(e.getAttribute(n))){x("Error. The element has an invalid property. The data-length is not valid. Element Id or Tag name = "+e.id===""?e.nodeName:e.id)}}}function N(e){var t="";if(typeof e.autoFocus!=="boolean"&&typeof e.autoFocus!=="undefined"){t="Error. You must pass a boolean in the autofocus parameter"}if(typeof e.recursive!=="boolean"&&typeof e.recursive!=="undefined"){t="Error. You must pass a boolean in the recursive parameter"}if(typeof e.onComplete!=="function"&&typeof e.onComplete!=="undefined"){t="Error. You must pass a function in the onComplete parameter"}if(typeof e.onChanged!=="function"&&typeof e.onChanged!=="undefined"){t="Error. You must pass a boolean in the onChanged parameter"}if(t!==""){x(t)}}function C(e,t,n){if(e.addEventListener){e.addEventListener(t,n)}else if(e.attachEvent){e.attachEvent("on"+t,n)}else{e["on"+t]=n}}function k(e,t){e.removeAttribute(t)}function L(t){var n=t,r,i;if(!n){e.autoTab.options.onComplete.call();if(e.autoTab.options.recursive){y(0).focus()}return}if(S(n)){r=i=n.value.length;if(n.setSelectionRange){n.setSelectionRange(r,i)}else if(n.createTextRange){var s=n.createTextRange();s.moveStart("character",r);s.moveEnd("character",i);s.select()}n.focus()}}function A(t){if(!a){return}if(!S(this)){return}if(!t){t=e.event}if(v(t.keyCode,f)){return false}var r=this;r.maxLength=r.maxLength===-1?parseInt(r.getAttribute(n)):r.maxLength;e.autoTab.options.onChanged.call(r,t);r.value=D(r,r.value);if(r.value.length<r.maxLength){return false}else if(r.value.length===r.maxLength){L(b(r))}else{if(e.autoTab.options.deleteExceedCharacter){r.value=r.value.substring(0,r.maxLength)}L(b(r))}}function O(e){_(e,this)}function M(e){_(e,this)}function _(t,n){if(!a){return}if(!S(n)){return}if(!t){t=e.event}e.autoTab.options.onChanged.call(n,t);L(b(n))}function D(e,t){var n=null;switch(e.getAttribute(o)){case"text":n=new RegExp("[0-9]+","g");break;case"alpha":n=new RegExp("[^a-zA-Z]+","g");break;case"alphanumeric":n=new RegExp("[^0-9a-zA-Z]+","g");break;case"number":case"numeric":n=new RegExp("[^0-9]+","g");break;case"hex":case"hexadecimal":n=new RegExp("[^0-9A-Fa-f]+","g");break;case"custom":n=new RegExp(e.getAttribute(u),"g");break;default:break}if(n!==null){t=t.replace(n,"")}if(e.getAttribute(s)){t=t.replace(new RegExp("[ ]+","g"),"")}if(e.getAttribute(r)){t=t.toUpperCase()}if(e.getAttribute(i)){t=t.toLowerCase()}return t}function P(e){N(e);this.options=d({},this.options);d(this.options,e);this._init(false)}var t="data-tab",n="data-length",r="data-upper",i="data-lower",s="data-nospace",o="data-format",u="data-pattern",a=true,f=[16,35,36,37,38,39,40],l=["input","textarea","select","button"],c=E("["+t+"]"),h=document.getElementsByTagName("head")[0],p=function(){};P.prototype.options={autoFocus:false,recursive:false,onComplete:p,onChanged:p,deleteExceedCharacter:false};P.prototype._init=function(e){g(c,function(t){T(t);switch(t.nodeName.toLowerCase()){case"input":case"textarea":if(!e){C(t,"keyup",A)}t.setAttribute("maxlength",t.getAttribute(n));t.setAttribute("autocomplete","off");break;case"select":if(!e){C(t,"change",O)}break;case"button":if(!e){C(t,"click",M)}break}});if(this.options.autoFocus){y(0).focus()}};P.prototype.destroy=function(){g(c,function(e){k(e,"maxlength");k(e,"autocomplete")});a=false};P.prototype.restore=function(){a=true;this._init(true)};e.autoTab=P})(window);